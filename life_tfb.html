<!doctype HTML>
<html lang="en-us">
  <head>
    <meta charset="utf-8"/>
    <meta http-equiv="Cross-Origin-Embedder-Policy" content="require-corp">
    <meta http-equiv="Cross-Origin-Opener-Policy" content="same-origin">
    <!--<meta http-equiv="Cross-Origin-Resource-Policy" content="same-origin">-->

    <!-- Cross-Origin-Embedder-Policy: require-corp -->
    <!-- Cross-Origin-Opener-Policy: same-origin -->
    <title>SDL2+OpenGL+Emscripten test</title>
    <link rel="icon" type="image/x-icon" href="/favicon.gif">

    <style>
      html {
          width: 100%;
          height: 100%;
      }
      body {
/*          display: -webkit-flex;
          display: flex;
          -webkit-flex-direction: column;*/
          /*flex-direction: column;*/
          width: 100%;
          height: 100%;
          font-family: sans-serif;
          margin: 0;
          padding: 0;
          overflow: hidden;
          color: black;
          background-color: black;
      }
      #canvas {
          /*-webkit-flex: 1;*/
          /*flex: 1;*/
          width: 100%;
          height: 100%;
          /* min-height: 10%; */
          /* display: inline; */
          /* padding-top: 25px; */
      }
      #status {
          background-color: hsl(60,20%,90%);
          text-align: center;
          height: 0;
      }
      #output {
          background-color: hsla(240,10%,10%,0.0);
          color: black;
          border: none;
          padding: 0 1em;
          position: absolute;
          right: 0; width: 50%;
          bottom: 0;
      }
    </style>
  </head>
  <body>
    <div id="status">Downloading...</div>
      <canvas tabindex="0" id="canvas" oncontextmenu="event.preventDefault()"></canvas>

      <script type='text/javascript'>
        var Module = { canvas: document.getElementById('canvas'), };
      </script>

    <script async type="text/javascript" src="life_tfb.js"></script>

    <script>

// The types are “number” (for a JavaScript number corresponding to a C integer, float, or general pointer), “string” (for a JavaScript string that corresponds to a C char* that represents a string) or “array” (for a JavaScript array or typed array that corresponds to a C array; for typed arrays, it must be a Uint8Array or Int8Array).
      // sunc=Module._sunc;
      // sunc=Module.cwrap('sunc', null, ['Number','Number','Number']);
      window.onresize = function(){
        Module.canvas.width  = window.innerWidth;
        Module.canvas.height = window.innerHeight;
        Module.setCanvasSize(window.innerWidth, window.innerHeight);
        // window.dispatchEvent(new Event('resize'));
      }
    </script>

  </body>
</html>
